<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta http-equiv="X-UA-Compatible" content="IE=edge" />
    <meta name="viewport" content="width=device-width, initial-scale=1" />
    <link rel="stylesheet" href="style.css" />
    <!---css framework from bulma.io, open source. chose this framework because it is responsive and semantic-->
    <link rel="shortcut icon" href="./images/eros.ico" type="image/x-icon" />
    <script
      src="https://kit.fontawesome.com/c9aabc0080.js"
      crossorigin="anonymous"
    ></script>
    <!---fontawesome icons-->
    <title>eros | Preferences</title>

    <div class="container" style="width: 75%">
      <br>
      <center><h1 class="title is-1">ü™ê Your Match-Making Preferences ü™ê</h1></center>
      <br>
    <!--Programming language choices-->
    <form>
    <div class="box">
      <h4 class="title is-4">What languages do you enjoy?</h4>
      <ul> <!--Each option is wrapped with a label so the text is clickable like the checkbox itself is, more accessible-->
        <li><label><input type="checkbox"  id="Java"> Java</label></li>
        <li><label><input type="checkbox" id="Python"> Python</label></li>
        <li><label><input type="checkbox" id="C/C++"> C/C++</label></li>
        <li><label><input type="checkbox" id="Rust"> Rust</label></li>
        <li><label><input type="checkbox" id="Ruby"> Ruby</label></li>
        <li><label><input type="checkbox" id="Javascript"> Javascript</label></li>
        <li><label><input type="checkbox" id="Swift"> Swift</label></li>
        <li><label><input type="checkbox" id="Kotlin"> Kotlin</label></li>
        <li><label><input type="checkbox" id="Assembly"> Assembly</label></li>
        <li><label><input type="checkbox" id="PHP"> PHP</label></li>
        <li><label><input type="checkbox" id="C#"> C#</label></li>
        <li><label><input type="checkbox" id="Go"> Go</label></li>
        <li><label><input type="checkbox" id="Perl"> Perl</label></li>
        <li><label><input type="checkbox" id="SQL"> SQL</label></li>
        <li><label><input type="checkbox" id="R"> R</label></li>
        <li><label><input type="checkbox" id="Scala"> Scala</label></li>
        <li><label><input type="checkbox" id="Matlab"> Matlab</label></li>
        <li><label><input type="checkbox" id="Cobol"> Cobol</label></li>
        <li><label><input type="checkbox" id="Pascal"> Pascal</label></li>
      </ul>
    </div>

    <!--Operating system choices-->
    <div class="box">
      <h4 class="title is-4">What's your daily driver?</h4>
      <ul>
    <li><label><input type="checkbox" id="Windows"> Windows</label></li>
    <li><label><input type="checkbox" id="Mac OS"> Mac OS</label></li>
    <li> <label><input type="checkbox" id="Linux"> Linux</label></li>
    <li><label><input type="checkbox" id="BSD"> BSD</label></li>
    <li><label><input type="checkbox" id="Solaris"> Solaris</label></li>
    <li> <label><input type="checkbox" id="Haiku"> Haiku</label></li>
    <li><label><input type="checkbox" id="ReactOS"> ReactOS</label></li>
      </ul>
    
  
    </div>

     <!--Identity Choices-->
    <div class="box">
      <h4 class="title is-4">What are you?</h4>
      <ul>
      <li><input type="radio" id="Human"name="yourtype"/>
      <label for="Human">Human</label></li>
      <li><input type="radio" id="Alien" name="yourtype"/>
      <label for="Alien">Alien</label></li>
    </div>

    <!--Desired Flavor Choices-->
    
    <div class="box">
      <h4 class="title is-4">What's your preference?</h4>
      <ul>
      <li><input type="radio" id="Humans"name="type"/>
      <label for="Humans">Humans</label></li>
      <li><input type="radio" id="Aliens" name="type"/>
      <label for="Aliens">Aliens</label></li>
      <li><input type="radio" id="Both" name="type"/>
      <label for="Both">Both</label></li>
      </ul>
    </div>

  </form>
  <button class="button" onclick="submit()" type="button">‚Üí</button>
    <br>
    <br>
</div>
  </body>
  <script>
    function submit() {
      // make a json object
      var checkboxes = document.querySelectorAll('input[type=checkbox]:checked')
      var radios = document.querySelectorAll('input[type=radio]:checked')
      checkBoxJson={}
      radioJson={}
      console.log(radios)
      for (var i = 0; i < checkboxes.length; i++) {
        checkBoxJson[checkboxes[i].id] = checkboxes[i].checked
      }
      for (var i = 0; i<radios.length; i++){
        radioJson[radios[i].id] = radios[i].checked
      }
      console.log({"Radio": radioJson, "Checkbox": checkBoxJson})
      //convert contained objects to string
      var json = JSON.stringify({"Radio": radioJson, "Checkbox": checkBoxJson})
      var xhr = new XMLHttpRequest()
      xhr.open("POST", "https://sheezy-systems-opulent-space-goggles-qvxj5g7jj9hxpj4-80.preview.app.github.dev/api/saveprefs", true)
      xhr.setRequestHeader("Content-Type", "application/json")
      xhr.send(json)
      window.location.href = "matches.html"
    }
    </script>
</html>
